{
  "project": "test",
  "name": "query_analysis",
  "checkId": "K000",
  "timestamptz": "2019-06-24 22:21:47.0+0000",
  "dependencies": {
    "null": "null"
  },
  "last_nodes_json": {
    "hosts": {
      "runner-fa6cab46-project-9951336-concurrent-0": {
        "internal_alias": "node1",
        "index": "1",
        "role": "standby",
        "role_change_detected_at": "never"
      }
    },
    "last_check": {
      "epoch": "1",
      "timestamptz": "2019-06-24 22:21:47.0+0000",
      "dir": "1_2019_06_24T22_20_43_+0000"
    }
  },
  "database": "dbname",
  "results": {
    "runner-fa6cab46-project-9951336-concurrent-0": {
      "data": {
        "start_timestamptz": "2019-06-24T22:21:32.821437+00:00",
        "end_timestamptz": "2019-06-24T22:21:47.942234+00:00",
        "period_seconds": 15.12079,
        "period_age": "00:00:15.120797",
        "absolute_error_calls": 174.5,
        "absolute_error_total_time": 67168.9027575,
        "relative_error_calls": 0,
        "relative_error_total_time": 98383.59103849554,
        "queries": {
          "1": {
            "rownum": 1,
            "diff_calls": 0,
            "per_sec_calls": 0,
            "per_call_calls": null,
            "ratio_calls": null,
            "diff_total_time": 68.272465,
            "per_sec_total_time": 4.515138759284403,
            "per_call_total_time": null,
            "ratio_total_time": 100,
            "diff_rows": 0,
            "per_sec_rows": 0,
            "per_call_rows": null,
            "ratio_rows": null,
            "diff_shared_blks_hit": -3,
            "per_sec_shared_blks_hit": -0.19840233215328035,
            "per_call_shared_blks_hit": null,
            "ratio_shared_blks_hit": 100,
            "diff_shared_blks_read": 3,
            "per_sec_shared_blks_read": 0.19840233215328035,
            "per_call_shared_blks_read": null,
            "ratio_shared_blks_read": 100,
            "diff_shared_blks_dirtied": 0,
            "per_sec_shared_blks_dirtied": 0,
            "per_call_shared_blks_dirtied": null,
            "ratio_shared_blks_dirtied": null,
            "diff_shared_blks_written": 0,
            "per_sec_shared_blks_written": 0,
            "per_call_shared_blks_written": null,
            "ratio_shared_blks_written": null,
            "diff_local_blks_hit": 0,
            "per_sec_local_blks_hit": 0,
            "per_call_local_blks_hit": null,
            "ratio_local_blks_hit": null,
            "diff_local_blks_read": 0,
            "per_sec_local_blks_read": 0,
            "per_call_local_blks_read": null,
            "ratio_local_blks_read": null,
            "diff_local_blks_dirtied": 0,
            "per_sec_local_blks_dirtied": 0,
            "per_call_local_blks_dirtied": null,
            "ratio_local_blks_dirtied": null,
            "diff_local_blks_written": 0,
            "per_sec_local_blks_written": 0,
            "per_call_local_blks_written": null,
            "ratio_local_blks_written": null,
            "diff_temp_blks_read": 0,
            "per_sec_temp_blks_read": 0,
            "per_call_temp_blks_read": null,
            "ratio_temp_blks_read": null,
            "diff_temp_blks_written": 0,
            "per_sec_temp_blks_written": 0,
            "per_call_temp_blks_written": null,
            "ratio_temp_blks_written": null,
            "diff_blk_read_time": 0,
            "per_sec_blk_read_time": 0,
            "per_call_blk_read_time": null,
            "ratio_blk_read_time": null,
            "diff_blk_write_time": 0,
            "per_sec_blk_write_time": 0,
            "per_call_blk_write_time": null,
            "ratio_blk_write_time": null,
            "diff_kcache_reads": null,
            "per_sec_kcache_reads": null,
            "per_call_kcache_reads": null,
            "ratio_kcache_reads": null,
            "diff_kcache_writes": null,
            "per_sec_kcache_writes": null,
            "per_call_kcache_writes": null,
            "ratio_kcache_writes": null,
            "diff_kcache_user_time_ms": null,
            "per_sec_kcache_user_time_ms": null,
            "per_call_kcache_user_time_ms": null,
            "ratio_kcache_user_time_ms": null,
            "diff_kcache_system_time_ms": null,
            "per_sec_kcache_system_time_ms": null,
            "per_call_kcache_system_time_ms": null,
            "ratio_kcache_system_time_ms": null,
            "md5": "182ba4f0ffb554baf311c8fa6800939f",
            "queryid": "3617698589948080000",
            "query": "create database dbname",
            "link": "../../json_reports/1_2019_06_24T22_20_43_+0000/K_query_groups/1_1.sql",
            "readable_queryid": "1_1"
          }
        },
        "aggregated": {
          "1": {
            "diff_calls": 0,
            "per_sec_calls": 0,
            "per_call_calls": null,
            "ratio_calls": null,
            "diff_total_time": 68.272465,
            "per_sec_total_time": 4.515138759284403,
            "per_call_total_time": null,
            "ratio_total_time": 100,
            "diff_rows": 0,
            "per_sec_rows": 0,
            "per_call_rows": null,
            "ratio_rows": null,
            "diff_shared_blks_hit": -3,
            "per_sec_shared_blks_hit": -0.19840233215328035,
            "per_call_shared_blks_hit": null,
            "ratio_shared_blks_hit": 100,
            "diff_shared_blks_read": 3,
            "per_sec_shared_blks_read": 0.19840233215328035,
            "per_call_shared_blks_read": null,
            "ratio_shared_blks_read": 100,
            "diff_shared_blks_dirtied": 0,
            "per_sec_shared_blks_dirtied": 0,
            "per_call_shared_blks_dirtied": null,
            "ratio_shared_blks_dirtied": null,
            "diff_shared_blks_written": 0,
            "per_sec_shared_blks_written": 0,
            "per_call_shared_blks_written": null,
            "ratio_shared_blks_written": null,
            "diff_local_blks_hit": 0,
            "per_sec_local_blks_hit": 0,
            "per_call_local_blks_hit": null,
            "ratio_local_blks_hit": null,
            "diff_local_blks_read": 0,
            "per_sec_local_blks_read": 0,
            "per_call_local_blks_read": null,
            "ratio_local_blks_read": null,
            "diff_local_blks_dirtied": 0,
            "per_sec_local_blks_dirtied": 0,
            "per_call_local_blks_dirtied": null,
            "ratio_local_blks_dirtied": null,
            "diff_local_blks_written": 0,
            "per_sec_local_blks_written": 0,
            "per_call_local_blks_written": null,
            "ratio_local_blks_written": null,
            "diff_temp_blks_read": 0,
            "per_sec_temp_blks_read": 0,
            "per_call_temp_blks_read": null,
            "ratio_temp_blks_read": null,
            "diff_temp_blks_written": 0,
            "per_sec_temp_blks_written": 0,
            "per_call_temp_blks_written": null,
            "ratio_temp_blks_written": null,
            "diff_blk_read_time": 0,
            "per_sec_blk_read_time": 0,
            "per_call_blk_read_time": null,
            "ratio_blk_read_time": null,
            "diff_blk_write_time": 0,
            "per_sec_blk_write_time": 0,
            "per_call_blk_write_time": null,
            "ratio_blk_write_time": null,
            "diff_kcache_reads": null,
            "per_sec_kcache_reads": null,
            "per_call_kcache_reads": null,
            "ratio_kcache_reads": null,
            "diff_kcache_writes": null,
            "per_sec_kcache_writes": null,
            "per_call_kcache_writes": null,
            "ratio_kcache_writes": null,
            "diff_kcache_user_time_ms": null,
            "per_sec_kcache_user_time_ms": null,
            "per_call_kcache_user_time_ms": null,
            "ratio_kcache_user_time_ms": null,
            "diff_kcache_system_time_ms": null,
            "per_sec_kcache_system_time_ms": null,
            "per_call_kcache_system_time_ms": null,
            "ratio_kcache_system_time_ms": null,
            "_": ""
          }
        },
        "workload_type": {
          "1": {
            "rownum": 1,
            "word": "create",
            "diff_calls": 0,
            "per_sec_calls": 0,
            "per_call_calls": null,
            "ratio_calls": null,
            "diff_total_time": 68.272465,
            "per_sec_total_time": 4.515138759284403,
            "per_call_total_time": null,
            "ratio_total_time": 100,
            "diff_rows": 0,
            "per_sec_rows": 0,
            "per_call_rows": null,
            "ratio_rows": null,
            "diff_shared_blks_hit": -3,
            "per_sec_shared_blks_hit": -0.19840233215328035,
            "per_call_shared_blks_hit": null,
            "ratio_shared_blks_hit": 100,
            "diff_shared_blks_read": 3,
            "per_sec_shared_blks_read": 0.19840233215328035,
            "per_call_shared_blks_read": null,
            "ratio_shared_blks_read": 100,
            "diff_shared_blks_dirtied": 0,
            "per_sec_shared_blks_dirtied": 0,
            "per_call_shared_blks_dirtied": null,
            "ratio_shared_blks_dirtied": null,
            "diff_shared_blks_written": 0,
            "per_sec_shared_blks_written": 0,
            "per_call_shared_blks_written": null,
            "ratio_shared_blks_written": null,
            "diff_local_blks_hit": 0,
            "per_sec_local_blks_hit": 0,
            "per_call_local_blks_hit": null,
            "ratio_local_blks_hit": null,
            "diff_local_blks_read": 0,
            "per_sec_local_blks_read": 0,
            "per_call_local_blks_read": null,
            "ratio_local_blks_read": null,
            "diff_local_blks_dirtied": 0,
            "per_sec_local_blks_dirtied": 0,
            "per_call_local_blks_dirtied": null,
            "ratio_local_blks_dirtied": null,
            "diff_local_blks_written": 0,
            "per_sec_local_blks_written": 0,
            "per_call_local_blks_written": null,
            "ratio_local_blks_written": null,
            "diff_temp_blks_read": 0,
            "per_sec_temp_blks_read": 0,
            "per_call_temp_blks_read": null,
            "ratio_temp_blks_read": null,
            "diff_temp_blks_written": 0,
            "per_sec_temp_blks_written": 0,
            "per_call_temp_blks_written": null,
            "ratio_temp_blks_written": null,
            "diff_blk_read_time": 0,
            "per_sec_blk_read_time": 0,
            "per_call_blk_read_time": null,
            "ratio_blk_read_time": null,
            "diff_blk_write_time": 0,
            "per_sec_blk_write_time": 0,
            "per_call_blk_write_time": null,
            "ratio_blk_write_time": null,
            "diff_kcache_reads": null,
            "per_sec_kcache_reads": null,
            "per_call_kcache_reads": null,
            "ratio_kcache_reads": null,
            "diff_kcache_writes": null,
            "per_sec_kcache_writes": null,
            "per_call_kcache_writes": null,
            "ratio_kcache_writes": null,
            "diff_kcache_user_time_ms": null,
            "per_sec_kcache_user_time_ms": null,
            "per_call_kcache_user_time_ms": null,
            "ratio_kcache_user_time_ms": null,
            "diff_kcache_system_time_ms": null,
            "per_sec_kcache_system_time_ms": null,
            "per_call_kcache_system_time_ms": null,
            "ratio_kcache_system_time_ms": null,
            "_": ""
          }
        }
      },
      "nodes.json": {
        "hosts": {
          "runner-fa6cab46-project-9951336-concurrent-0": {
            "internal_alias": "node1",
            "index": "1",
            "role": "standby",
            "role_change_detected_at": "never"
          }
        },
        "last_check": {
          "epoch": "1",
          "timestamptz": "2019-06-24 22:21:47.0+0000",
          "dir": "1_2019_06_24T22_20_43_+0000"
        }
      }
    }
  },
  "processed": true,
  "conclusions": [
    {
      "Id": "K000_EXCESS_QUERY_TOTAL_TIME",
      "Message": "[P1] For some query groups, total_time \u003e 30% of overall timing. It was observed on the following node: `runner-fa6cab46-project-9951336-concurrent-0`. Such a high percentage means that those queries are \"major contributors\" to resource consumption on those nodes. In other words, if a query group has `total_time` which is 30% of overall timing, it means that during the observation period, 30% of time CPUs were working on that node processing queries from this group.  \n"
    }
  ],
  "recommendations": [
    {
      "Id": "K000_EXCESS_QUERY_TOTAL_TIME",
      "Message": "[P1] For some query groups, total_time \u003e 30% of overall timing. To reduce `total_time` for particular query group consider the following tactics:  \n    - perform query micro-optimization (take particular query examples related to the group, use `EXPLAIN` and `EXPLAIN (BUFFERS, ANALYZE)` to optimize it, also consider using [Joe bot](https://gitlab.com/postgres-ai/joe) and special DB instances) simplifying the process of for query optimization, \n    - if the frequency of execution is high (check the `calls / second` metric), consider reducing this frequency, changing the application code and/or, if it is applicable, applying query results caching.  \n"
    }
  ],
  "p1": true,
  "p2": false,
  "p3": false
}